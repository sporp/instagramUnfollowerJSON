<html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<link href="stylesheet.css" rel="stylesheet" type="text/css">
	<title>Unfollower JSON</title>
  <script>
	async function unfollowFinder() {
        let followerUpload = document.getElementById('followerInput');
        let followingUpload = document.getElementById('followingInput');
  
        // Make sure the DOM element exists
        if (followerUpload && followerUpload.files.length > 0 && followingUpload && followingUpload.files.length > 0) {
            var followerFiles = followerUpload.files;
            var followingFiles = followingUpload.files;
            
            
            let followerText = await followerFiles[0].text();
            let followingText = await followingFiles[0].text();
            let followerObj = JSON.parse(followerText);
            let followingObj = JSON.parse(followingText);
            
            let followerArr = [];
            let followingArr = [];
            
            for(const fol1 of followerObj.relationships_followers){
                followerArr.push(fol1.string_list_data[0].value)
            }
            
            for(const fol2 of followingObj.relationships_following){
                let currUser = fol2.string_list_data[0].value
                if(!followerArr.includes(currUser)){
                    followingArr.push(currUser);
                }else{
                    followerArr.splice(followerArr.indexOf(currUser), 1);
                }
            }
            
            var textarea3 = document.getElementById("text3");
            textarea3.value = followingArr.join("\n");
      
            var textarea4 = document.getElementById("text4");
            textarea4.value = followerArr.join("\n");
        }
    }
</script></head>

<h3><a href="https://youtu.be/DieaS6-25zs">WATCH THE TUTORIAL HERE</a></h3>

<h3>Upload Your followers.json File Here</h3>
<input type="file" id="followerInput">

<h3>Upload Your following.json File Here</h3>
<input type="file" id="followingInput">

<p></p>

<button onclick="unfollowFinder()">ðŸ˜© Hurt Me ðŸ˜©</button>
 
<h3>People Who You Follow Who Don't Follow Back</h3>
<textarea id="text3" cols="30" rows="4"></textarea>

<h3>People Who Follow You That You Don't Follow</h3>
<textarea id="text4" cols="30" rows="4"></textarea>

<p></p>
</div>

</body></html>
